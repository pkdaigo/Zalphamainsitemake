import { StreamingManager } from '../streaming-manager';
import { Agent, AgentManagerOptions, AgentsAPI, Chat, ChatProgressCallback, CreateSessionV2Options, CreateStreamOptions, Interrupt } from '../../types';
import { Analytics } from '../analytics/mixpanel';

type ConnectToManagerOptions = AgentManagerOptions & {
    callbacks: AgentManagerOptions['callbacks'] & {
        onVideoIdChange?: (videoId: string | null) => void;
        /** Internal callback for livekit-manager data channel events */
        onMessage?: ChatProgressCallback;
        /** Internal callback for when interrupt is detected by streaming manager */
        onInterruptDetected?: (interrupt: Interrupt) => void;
    };
    chatId?: string;
};
export declare function initializeStreamAndChat(agent: Agent, options: ConnectToManagerOptions, agentsApi: AgentsAPI, analytics: Analytics, chat?: Chat): Promise<{
    chat?: Chat;
    streamingManager?: StreamingManager<CreateStreamOptions | CreateSessionV2Options>;
}>;
export {};
